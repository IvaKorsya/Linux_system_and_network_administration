Задание 2.2
Выполните тестирование заполнения файловой системы по объему. При
необходимости следуйте приведенным ниже пошаговым инструкциям.
1. Создайте сценарий base2.2.sh. В данном сценарии реализуйте:
• создание файла my_sys_2M.img размером 2Мб и файловой системы ext2 в нем,
аналогично тому, как это выполнялось в Задании 2.1.
• создание каталога (точки монтирования) /mnt/new_disk,
• монтирование в созданный каталог файловой системы.
• вывод информации о файловых системах с помощью команды df
• создание на примонтированной файловой системе рабочего каталога для
размещения файлов /mnt/new_disk/new_dir
• с помощью цикла while и инкрементально увеличивающегося счетчика
осуществите создание в файловой системе файлов.
Используйте команду dd для копирования файлов и устройство
/dev/zero в качестве устройства-источника для команды dd. В опциях для команды
dd также можно указать размер блока копируемого файла (bs) и количество копий
(count).
• Например: dd if=/dev/zero of=/mnt/new_disk/new_dir/<file> bs=10K count=1
<file> — имя создаваемого файла, подберите количество итераций цикла, значение
bs и count таким образом чтобы достичь заполнение ФС по объему
2. Создайте сценарий test2.2.sh, осуществляющий проверку работы первого
сценария, , аналогично тому, как это выполнялось в Задании 2.1. Сценарий должен
выводить информацию по свободному месту и объему на файловой системе, сведения
о общем и занятом количестве inode (индексных дескрипторов) и общее количество
созданных циклом файлов.
3. Создайте сценарий reset2.2.sh, выполняющие аналогичные действия по
“зачистке” результатов выполнения сценария base2.2.sh.
