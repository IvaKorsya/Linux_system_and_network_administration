Задание 3.1
1. Результат выполнения задания — это три сценария на языке командного
интерпретатора.:
первый (основной) выполняет задание;
второй (тестовый) проверяет правильность работы основного;
третий (обнуляющий) возвращает систему в исходное состояние так,
чтобы можно было запустить процесс выполнения сценариев сначала.
2. Задача основного сценария задания:
завести две локальные групповые учётные записи: group1 и group2;
создать три локальные пользовательские учётные записи: user1, user2, user3;
включить пользователей в группы следующим образом:
первый пользователь входит только в первую группу,
второй пользователь — в первую и вторую группы,
третий — только во вторую;создать в пределах ветки дерева каталогов /srv каталоги dir1 и dir2;
разграничить права следующим образом:
подкаталог dir1 доступен на запись только группе group1,
dir2 — только группе group2.
3. Тестовый сценарий должен проверить соответствие прав на файлы, создаваемые в
каталогах dir1 и dir2.
4. Для возврата к начальным условиям необходимо удалить пользователей и группы, а
затем удалить созданные каталоги и файлы
Задание 3.2
В качестве самостоятельного задания разработайте три аналогичных сценария, при этом
имена пользователей и названия групп должны задаваться как параметры сценария. Должна
проводиться проверка количества передаваемых параметров. При необходимости
ориентируйтесь на следующую пошаговую инструкцию.
1. Создайте файл базового сценария base3.2.sh. Базовый сценарий используйте такой же,
как и в Задании 3.1 (то есть будут использоваться те же группы, пользователи и т.д.).
При запуске сценария имена групп (group1 и group2) должны передаваться двумя
первыми параметрами ($1 и $2), затем еще тремя параметрами должны передаваться
имена пользователей ($3, $4 и $5), то есть скрипт должен запускаться в виде:
./base3.2.sh group1 group2 user1 user2 user32. В начале сценария осуществите проверку количества переданных позиционных
параметров с помощью условного оператора if и специальной переменной $# в
которой содержится количество позиционных параметров, переданных в качестве
аргументов при запуске сценария,
пример конструкции условия:
if [[ $# -eq 5 ]]; then
. . .
fi
При несоответствии количества переданных параметров условию следует
осуществить вывод сообщения с информацией о правильном запуске и прекратить
выполнение сценария.
